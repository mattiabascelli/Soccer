<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>INTERNATIONAL KNIFE & SOCCER 2087</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <meta author='Mattia Bascelli' />
</head>
<body>
    <div class="container">
        <h1 class="mt-5 mb-3">INTERNATIONAL KNIFE & SOCCER 2087</h1>
        <div class="row">
            <div class="col-sm-6">
                <h1>Partita: </h1>
                <table class="table">
                    <thead>
                        <tr>
                            <th><strong>PESCARA VIOLENTA</strong></th>
                            <th id="Goal1">0</th>
                            <th><strong>MAI DOMI KIETI</strong></th>
                            <th id="Goal2">0</th>
                        </tr>
                    </thead>
                    <tbody id="tabella">
                        <tr>
                            <td id="1">Ciacone</td>
                            <td></td>
                            <td id="2">Valignani il Cinese</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td id="3">Kjiel XIII</td>
                            <td></td>
                            <td id="4">Chiarini 330</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td id="5">Muskyo</td>
                            <td></td>
                            <td id="6">Angelini Curva Volpi</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td id="7">Sergio detto il Porco</td>
                            <td></td>
                            <td id="8">Marcello il Paninaro</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td id="P1">Nicola L. Conti</td>
                            <td></td>
                            <td id="P2">Herio il Marrucino</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    <p>MINUTO: <strong id="counter"></strong></p>
                    <p id="telecronaca">
                    </p>
                </div>
                <button type="button" class="btn btn-primary" onclick="conta90()">Avvia Partita</button>
            </div>
            <div class="col-sm-6">
               <img src="img/soccer2.png" class="img-fluid" alt="Responsive image"/> 
               <p>Fatti, nomi, cose o coltellate sono puramente casuali.</p>
            </div>
        </div>
                <script>
                    const giocatori = 8;
                    const eventi = 10;

                    const gz1 = document.getElementById('Goal1');
                    const gz2 = document.getElementById('Goal2');
                    //funzione che esegue il conteggio fino a 120
                    function conta90() {
                        var num_evemto = 0;
                        var counter = 1; //contatore inizia da 1
                        var output = document.getElementById('counter');
                        var telecronaca = document.getElementById('telecronaca');
                        var goal1 = 0;
                        var goal2 = 0;
                        //funzione per aggiornare il numero e impostare il timeout per il prossimo aggiornamento
                        function updateCounter() {
                            output.innerHTML = counter;//scrittura del valore corrente sul tag manipolato
                            counter++;//incrementiamo il nostro counter
                            num_evento = Math.trunc(eventi * Math.random()) + 1;

                            switch (num_evento) {
                                case 1:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>' + g1 + '</b> supera senza difficoltà <b>' + g2 + '</b> si avvicina in area di rigore e scaglia un tiro violentissimo contro il portiere ma la palla esce di poco oltre la traversa';
                                    break;
                                case 2:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>' + g2 + '</b> supera senza difficoltà <b>' + g1 + '</b> si avvicina in area di rigore e scaglia un tiro violentissimo contro il portiere che para però senza problemi';
                                    break;
                                case 3:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>' + g1 + '</b> contrasto durissimo <b>' + g2 + '</b> che cade a terra malconcio';
                                    break;
                                case 4:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>' + g2 + '</b> contrasto durissimo <b>' + g1 + '</b> che cade a terra dolorante';
                                    break;
                                case 5:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    var portiere = document.getElementById('P2').innerHTML;
                                    goal1++;
                                    telecronaca.innerHTML = '<b>' + g1 + '</b> tira un bolide contro <b>' + portiere + '</b> che spiazzato subisce <b>GOAL!</b>';
                                    gz1.innerHTML = goal1;

                                    break;
                                case 6:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        1111
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    var portiere = document.getElementById('P1').innerHTML;
                                    goal2++;
                                    telecronaca.innerHTML ='<b>' + g2 + '</b> tira un bolide contro <b>' + portiere + '</b> che spiazzato subisce <b>GOAL!</b>';
                                    gz2.innerHTML = goal2;

                                    break;
                                case 7:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>'+ g1 + '</b> marcato stretto da <b>' + g2 + '</b> che lo blocca violentemente a terra';
                                    break;
                                case 8:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>'+ g2 + '</b> in evidente difficoltà viene buttato giù da <b>' + g1 + '</b> senza troppi complimenti';
                                    break;
                                case 8:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>' + g1 + '</b> incita la folla mentre <b>' + g2 + '</b> lo prende deride';
                                    break;

                                default:
                                    var gr1 = Math.trunc(giocatori * Math.random());
                                    var gr2 = Math.trunc(giocatori * Math.random());
                                    if (gr1 % 2 === 0) {
                                        gr1 = gr1 + 1;
                                    } else {
                                    }
                                    if (gr2 % 2 === 0) {
                                    } else {
                                        gr2 = gr2 + 1;
                                    }
                                    if (gr2 == 0) {
                                        gr2 = 2;
                                    }
                                    if (gr1 == 9) {
                                        gr1 = 1;
                                    }
                                    var g1 = document.getElementById(gr1).innerHTML;
                                    var g2 = document.getElementById(gr2).innerHTML;
                                    telecronaca.innerHTML ='<b>'+ g2 + '</b> incita la folla mentre <b>' + g1 + '</b> lo prende in giro animatamente';
                                    break;

                            }



                            if (counter <= 60) {
                                setTimeout(updateCounter, 2500);


                            } else {
                                if (goal1 > goal2) {
                                    telecronaca.innerHTML = 'Partita Terminata, vince <b>PESCARA VECCHIA</B> con ben ' + goal1 + 'reti a ' + goal2;
                                } else if (goal2 > goal1) {
                                    telecronaca.innerHTML = 'Partita Terminata, vince <b>MAI DOMI KIETI</B> con ben ' + goal2 + 'reti a ' + goal1;
                                } else { telecronaca.innerHTML = 'Partita Terminata, pareggio tra <b>PESCARA VECCHIA</b> e <b>MAI DOMI KIETI</b>'; }

                                
                            }



                        }


                        //avviamo la funzione updateCounter
                        updateCounter();






                    }
                    
                </script>
</body>
</html>